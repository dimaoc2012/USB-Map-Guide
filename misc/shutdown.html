
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Fixing Shutdown/Restart Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-medium-zoom/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="instant-wake.html" />
    
    
    <link rel="prev" href="power.html" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"dortania","repo":"USB-Map-Guide","type":"star","size":"large"}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    USB Mapping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../system-preparation.html">
            
                <a href="../system-preparation.html">
            
                    
                    System Preparation
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Intel Mapping</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../intel-mapping/intel.html">
            
                <a href="../intel-mapping/intel.html">
            
                    
                    Intel USB Mapping
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">AMD/3rd Party Mapping</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../amd-mapping/amd.html">
            
                <a href="../amd-mapping/amd.html">
            
                    
                    AMD and 3rd Party USB Mapping
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Miscellaneous Fixes</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="./">
            
                <a href="./">
            
                    
                    Miscellaneous Fixes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="power.html">
            
                <a href="power.html">
            
                    
                    Fixing USB Power
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.1.2" data-path="shutdown.html">
            
                <a href="shutdown.html">
            
                    
                    Fixing Shutdown/Restart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="instant-wake.html">
            
                <a href="instant-wake.html">
            
                    
                    GPRW/UPRW/LANC Instant Wake Patch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="keyboard.html">
            
                <a href="keyboard.html">
            
                    
                    Keyboard Wake Issues
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Fixing Shutdown/Restart</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <blockquote>
<p><em>Last modified: Sat Jun 20 2020 16:54:40 GMT+0000 (Coordinated Universal Time)</em></p>
</blockquote>
<h1 id="fixing-shutdownrestart"><a name="fixing-shutdownrestart" class="plugin-anchor" href="#fixing-shutdownrestart"><i class="fa fa-link" aria-hidden="true"></i></a>Fixing Shutdown/Restart</h1>
<p>So an odd quirk you may run into with macOS is that when you shutdown, your PC may instead restart itself. This is actually due to a missing S5 call that powers down the controller. Of course Windows and Linux implement hacks to get around this but macOS has no such fixes, instead we need to do the dirty work and fix their ACPI writing. Don&apos;t worry, this won&apos;t harm other OSes.</p>
<p>For this we need the following:</p>
<ul>
<li><a href="https://github.com/dortania/USB-Map-Guide/blob/master/extra-files/FixShutdown-USB-SSDT.dsl" target="_blank">FixShutdown-USB-SSDT.dsl</a></li>
<li><a href="https://github.com/dortania/USB-Map-Guide/blob/master/extra-files/FixShutdown-Patch.plist" target="_blank">_PTS to ZPTS Patch</a></li>
<li>USB Controller&apos;s ACPI Path</li>
</ul>
<p>To find the USB Controller that needs fixing, search for <code>_PRW</code> in your DSDT and see what Device is mentioned within it, generally this will be something like <code>SB.PCI0.XHC</code>.</p>
<p>With the ACPI path, edit FixShutdown-USB-SSDT.dsl and compile it to a .aml file(Assembled). <a href="https://dortanian.github.io/Getting-Started-With-ACPI/Manual/compile.html" target="_blank">MaciASL can help you with this</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="power.html" class="navigation navigation-prev " aria-label="Previous page: Fixing USB Power">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="instant-wake.html" class="navigation navigation-next " aria-label="Next page: GPRW/UPRW/LANC Instant Wake Patch">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Fixing Shutdown/Restart","level":"4.1.2","depth":2,"next":{"title":"GPRW/UPRW/LANC Instant Wake Patch","level":"4.1.3","depth":2,"path":"misc/instant-wake.md","ref":"misc/instant-wake.md","articles":[]},"previous":{"title":"Fixing USB Power","level":"4.1.1","depth":2,"path":"misc/power.md","ref":"misc/power.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","-lunr","-search","search-plus","addcssjs","favicon-plus","anchors","github-buttons","last-modified","medium-zoom"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"last-modified":{},"output":"_book","intopic-toc":{"label":"Navigation"},"addcssjs":{"css":[],"js":[]},"medium-zoom":{},"fontsettings":{"theme":"night","family":"sans","size":2},"favicon-plus":{"appleTouchIconPrecomposed152":"","favicon":"","output":"_book"},"highlight":{},"github-edit":{"repo":"dortania/USB-Map-Guide","branch":"master"},"favicon":"/icons/favicon.ico","appleTouchIconPrecomposed152":"/icons/appleTouchIconPrecomposed152.png","github-buttons":{"buttons":[{"user":"dortania","repo":"USB-Map-Guide","type":"star","size":"large"}]},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":[]},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"anchors":{},"search-plus":{}},"theme":"default","medium-zoom":{"margin":24,"background":"#363b40","scrollOffset":0},"pdf":{"pageBreaksBefore":"/","headerTemplate":null,"paperSize":"a4","margin":{"right":62,"left":62,"top":36,"bottom":36},"fontSize":12,"fontFamily":"Arial","footerTemplate":null,"chapterMark":"pagebreak","pageNumbers":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sharing":{"google":false,"facebook":false,"twitter":false,"weibo":false,"all":false}},"gitbook":"*"},"file":{"path":"misc/shutdown.md","mtime":"2020-06-20T16:54:40.244Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-06-20T16:55:36.612Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-medium-zoom/medium-zoom.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-medium-zoom/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    

    </body>
</html>

